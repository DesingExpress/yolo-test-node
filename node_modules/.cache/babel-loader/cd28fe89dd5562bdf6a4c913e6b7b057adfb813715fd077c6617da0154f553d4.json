{"ast":null,"code":"import { Pure } from \"@design-express/fabrica\";\nimport { Web3Storage } from \"web3.storage\";\nexport const WebStorage = /*#__PURE__*/(() => {\n  class WebStorage extends Pure {\n    constructor() {\n      super();\n      this.addInput(\"Token\", \"string\");\n      this.addInput(\"File\", \"\");\n      this.addOutput(\"Models\", \"\");\n      this.widget = this.addWidget(\"button\", \"click\", null, () => {\n        this.onExecute();\n      });\n    }\n    async onExecute() {\n      // const accessToken = this.getInputData(0);\n      const accessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDMzMzU1N2E0NTNiYWMxMkY0NEYxNEYzMUYwNjA2RDY3YjlCMzc3QzMiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2OTMzNzI4MTgxMDksIm5hbWUiOiJ5b2xvdjhueHYifQ.0hPICHdR1404YKPRynxCrm-O60BQing7f-HjiIDAXvk\";\n      const webStorage = new Web3Storage({\n        token: accessToken\n      });\n      // const fileIput = document.querySelector('input[type=\"file\"]');\n      const fileIput = this.getInputData(1);\n      const rootCid = await webStorage.put(fileIput.files, {\n        name: \"cat pics\",\n        maxRetries: 3\n      });\n      console.log(rootCid);\n      const res = await webStorage.get(rootCid);\n      const files = await res.files();\n      for (const file of files) {\n        console.log(`${file.cid} ${file.name}`);\n      }\n\n      // const client = webStorage;\n      // for await (const upload of client.list()) {\n      //   console.log(`${upload.name} - ${upload.cid}`);\n      // }\n\n      // const File = this.getInputData(1);\n      // this.setOutputData(0, client.list());\n      // console.log(client.list());\n    }\n\n    onAction(action, param) {\n      if (action === \"play\") this.triggetSlot(0, param);\n    }\n  }\n  WebStorage.path = \"YOLOv8\";\n  WebStorage.title = \"Web3Storage\";\n  return WebStorage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}