{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncIterator from \"/Users/kim-euntae/Documents/Dev/yolov8-nxv/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nvar _ContentsBox, _ContentsBox2;\nimport { Pure, ImPure } from \"@design-express/fabrica\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport \"@tensorflow/tfjs-backend-webgl\";\nimport { open } from \"#extension:rc_dock\";\nimport { Web3Storage } from \"web3.storage\";\nimport ContentsBox from \"../components/ContentsBox\";\nimport modelUrl from \"../model/model.json?url\";\nimport shard1of4 from \"../model/group1-shard1of4.bin?url\";\nimport shard2of4 from \"../model/group1-shard2of4.bin?url\";\nimport shard3of4 from \"../model/group1-shard3of4.bin?url\";\nimport shard4of4 from \"../model/group1-shard4of4.bin?url\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar url = {\n  \"group1-shard1of4.bin\": shard1of4,\n  \"group1-shard2of4.bin\": shard2of4,\n  \"group1-shard3of4.bin\": shard3of4,\n  \"group1-shard4of4.bin\": shard4of4\n};\nexport var YOLOv8NXV = /*#__PURE__*/function () {\n  var YOLOv8NXV = /*#__PURE__*/function (_Pure) {\n    _inherits(YOLOv8NXV, _Pure);\n    var _super = /*#__PURE__*/_createSuper(YOLOv8NXV);\n    function YOLOv8NXV() {\n      var _this;\n      _classCallCheck(this, YOLOv8NXV);\n      _this = _super.call(this);\n      _this.addInput(\"Models\", \"\");\n      _this.addInput(\"Files\", \"\");\n      _this.addInput(\"Canvas\", \"\");\n      _this.addOutput(\"Results\", \"jsx\");\n      _this.component = _ContentsBox || (_ContentsBox = /*#__PURE__*/_jsx(ContentsBox, {\n        url: url,\n        modelUrl: modelUrl\n      }));\n      _this.widget = _this.addWidget(\"button\", \"Execute\", null, function () {\n        open(undefined, {\n          id: \"::tmp::test\",\n          title: \"YOLOv8 Detect\",\n          content: _this.component\n        });\n      });\n      return _this;\n    }\n    _createClass(YOLOv8NXV, [{\n      key: \"onExecute\",\n      value: function () {\n        var _onExecute = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var accessToken, webStorage, client, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, upload;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                accessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDMzMzU1N2E0NTNiYWMxMkY0NEYxNEYzMUYwNjA2RDY3YjlCMzc3QzMiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2OTMzNzI4MTgxMDksIm5hbWUiOiJ5b2xvdjhueHYifQ.0hPICHdR1404YKPRynxCrm-O60BQing7f-HjiIDAXvk\"; // process.env.WEB3STORAGE_TOKEN;\n                console.log(accessToken);\n                webStorage = new Web3Storage({\n                  token: accessToken\n                });\n                client = webStorage;\n                _iteratorAbruptCompletion = false;\n                _didIteratorError = false;\n                _context.prev = 6;\n                _iterator = _asyncIterator(client.list());\n              case 8:\n                _context.next = 10;\n                return _iterator.next();\n              case 10:\n                if (!(_iteratorAbruptCompletion = !(_step = _context.sent).done)) {\n                  _context.next = 16;\n                  break;\n                }\n                upload = _step.value;\n                console.log(\"\".concat(upload.name, \" - \").concat(upload.cid));\n              case 13:\n                _iteratorAbruptCompletion = false;\n                _context.next = 8;\n                break;\n              case 16:\n                _context.next = 22;\n                break;\n              case 18:\n                _context.prev = 18;\n                _context.t0 = _context[\"catch\"](6);\n                _didIteratorError = true;\n                _iteratorError = _context.t0;\n              case 22:\n                _context.prev = 22;\n                _context.prev = 23;\n                if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                  _context.next = 27;\n                  break;\n                }\n                _context.next = 27;\n                return _iterator.return();\n              case 27:\n                _context.prev = 27;\n                if (!_didIteratorError) {\n                  _context.next = 30;\n                  break;\n                }\n                throw _iteratorError;\n              case 30:\n                return _context.finish(27);\n              case 31:\n                return _context.finish(22);\n              case 32:\n                this.component = _ContentsBox2 || (_ContentsBox2 = /*#__PURE__*/_jsx(ContentsBox, {}));\n              case 33:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[6, 18, 22, 32], [23,, 27, 31]]);\n        }));\n        function onExecute() {\n          return _onExecute.apply(this, arguments);\n        }\n        return onExecute;\n      }()\n    }, {\n      key: \"onAction\",\n      value: function onAction(action, param) {\n        if (action === \"play\") this.triggerSlot(1, param);\n      }\n    }]);\n    return YOLOv8NXV;\n  }(Pure);\n  YOLOv8NXV.path = \"YOLOv8\";\n  YOLOv8NXV.title = \"YOLOv8 NXV\";\n  YOLOv8NXV.description = \"Object Detection using YOLOv8 and Tensorflow.js\";\n  return YOLOv8NXV;\n}();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}